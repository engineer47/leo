<!DOCTYPE html>
<html>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<input type="text" id="filter" class="filter" placeholder="enter registration">
	<ul id="UsersSelect" class="list-group" style="overflow: auto;">
		{% for veh in vehicles %}
			<li style="display: none;" class="list-group-item" value="115099"><a href="javascript:;" onclick="populateLov('{{veh.registration}}', '{{veh.model}}');">{{veh.model}}</a></li>
		{% endfor %}
	</ul>
	<script>
		function populateLov(registration, model)
		{	
	        window.parent.document.getElementById('registration').value = registration;
	        window.parent.document.getElementById('model').value = model;
	        //alert(window.parent.document.getElementById('registration').value)
	        //document.vehicle_lov_form.submit();
	        self.parent.tb_remove();
		}
		
		$(document).ready(function(){
			$('#filter').keyup(function(){
                if (this.value == '')
                {
                    $('#UsersSelect li').show();
                }
                else
                {
                    $('#UsersSelect li').hide();
                    $('#UsersSelect').find("li:contains('" + this.value + "')").show();
                    if ($('#UsersSelect').find("li:contains('" + this.value + "')").size() == 1)
                    {
                        $('#UsersSelect').find("li:contains('" + this.value + "')").get(0).click();
                    }
                }
            });
		});
	</script>
    